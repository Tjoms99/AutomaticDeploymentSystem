/*
 * pressure.h
 *
 *  Created on: 7 Dec 2022
 *      Author: marcu
 */

#ifndef PRESSURE_PRESSURE_H_
#define PRESSURE_PRESSURE_H_

    #define PRESSURE_ADDRESS 0x76

    #define RESET_SENSOR 0x1E
    #define GET_ADC_VALUE 0x00
    #define PROM_READ 0xA0
    #define START_CONVERTION_D1_8192 0x4A
    #define START_CONVERTION_D2_8192 0x5A

    #define BYTES_2 0X02
    #define BYTES_3 0X03


    const float Pa = 100.0f;
    const float bar = 0.001f;
    const float mbar = 1.0f;
    uint16_t fluidDensity = 1029;

    static volatile uint16_t constants[8];
    static volatile uint32_t D1_pres, D2_temp;
    static volatile int32_t TEMP;
    static volatile int32_t P;
    static volatile uint8_t _model;

    void init_pressure(void);
    void get_temperature_p(float *temperature);
#endif /* PRESSURE_PRESSURE_H_ */
